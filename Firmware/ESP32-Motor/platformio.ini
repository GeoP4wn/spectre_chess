; PlatformIO Project Configuration File for ESP32 Motor Controller
;
; This ESP32 handles:
; - TMC2209 stepper motor drivers (2x NEMA17 motors for H-Bot gantry)
; - Electromagnet control (4x electromagnets via MOSFETs)
; - Limit switch for homing
; - Fan control (4x PWM fans)
; - UART communication with Raspberry Pi

[env:esp32-s3-motor]
platform = espressif32
board = esp32-s3-devkitc-1
board_build.flash_mode = qio
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.flash_size = 8MB
board_build.psram_type = opi
board_build.memory_type = qio_opi
framework = arduino

; Serial monitor configuration
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Build flags
build_flags = 
    -D CORE_DEBUG_LEVEL=3
    -D MOTOR_CONTROLLER
    
; Library dependencies
lib_deps = 
    bblanchon/ArduinoJson@^6.21.3
    teemuatlut/TMCStepper@^0.7.3

; Upload configuration
upload_speed = 921600
